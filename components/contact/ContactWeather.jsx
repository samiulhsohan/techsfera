"use client";
import React, { useState, useEffect, useRef } from "react";
import styled from "styled-components";
import { Container, Row, Col } from "react-bootstrap";
import Button from "../Button";
import { gsap } from "gsap";
import { DrawSVGPlugin } from "gsap/DrawSVGPlugin";
gsap.registerPlugin(DrawSVGPlugin);

const MyComponent = () => {
  const [dhakaTime, setDhakaTime] = useState("");
  const [moscowTime, setMoscowTime] = useState("");
  const dhakaSvgRef = useRef(null);
  const moscowSvgRef = useRef(null);
  const [dhakaTimeOfDay, setDhakaTimeOfDay] = useState("night");
  const [moscowTimeOfDay, setMoscowTimeOfDay] = useState("night");

  useEffect(() => {
    const updateTime = () => {
      const now = new Date();

      // More reliable timezone calculation using Intl API
      const dhakaTime = new Date(
        now.toLocaleString("en-US", { timeZone: "Asia/Dhaka" })
      );
      const moscowTime = new Date(
        now.toLocaleString("en-US", { timeZone: "Europe/Moscow" })
      );

      setDhakaTime(
        dhakaTime.toLocaleTimeString("en-US", {
          hour: "numeric",
          minute: "2-digit",
          hour12: true,
        })
      );
      setMoscowTime(
        moscowTime.toLocaleTimeString("en-US", {
          hour: "numeric",
          minute: "2-digit",
          hour12: true,
        })
      );

      const dhakaHour = dhakaTime.getHours();
      const dhakaMinute = dhakaTime.getMinutes();
      let timeOfDay = "night";

      // Sunrise: 5:30 AM to 6:30 AM
      if (
        (dhakaHour === 5 && dhakaMinute >= 30) ||
        (dhakaHour === 6 && dhakaMinute <= 30)
      ) {
        timeOfDay = "sunrise";
      }
      // Day: 6:31 AM to 5:29 PM
      else if (
        (dhakaHour === 6 && dhakaMinute > 30) ||
        (dhakaHour > 6 && dhakaHour < 17) ||
        (dhakaHour === 17 && dhakaMinute <= 29)
      ) {
        timeOfDay = "day";
      }
      // Sunset: 5:30 PM to 6:30 PM
      else if (
        (dhakaHour === 17 && dhakaMinute >= 30) ||
        (dhakaHour === 18 && dhakaMinute <= 30)
      ) {
        timeOfDay = "sunset";
      }
      // Night: everything else
      else {
        timeOfDay = "night";
      }

      setDhakaTimeOfDay(timeOfDay);

      const moscowHour = moscowTime.getHours();
      const moscowMinute = moscowTime.getMinutes();
      let moscowTimeOfDay = "night";

      // Sunrise: 5:30 AM to 6:30 AM (30 minutes before to 30 minutes after 6 AM)
      if (
        (moscowHour === 5 && moscowMinute >= 30) ||
        (moscowHour === 6 && moscowMinute <= 30)
      ) {
        moscowTimeOfDay = "sunrise";
      }
      // Day: 6:31 AM to 5:30 PM
      else if (
        (moscowHour === 6 && moscowMinute > 30) ||
        (moscowHour > 6 && moscowHour < 17) ||
        (moscowHour === 17 && moscowMinute < 30)
      ) {
        moscowTimeOfDay = "day";
      }
      // Sunset: 5:30 PM to 6:30 PM (30 minutes before to 30 minutes after 6 PM)
      else if (
        (moscowHour === 17 && moscowMinute >= 30) ||
        (moscowHour === 18 && moscowMinute <= 30)
      ) {
        moscowTimeOfDay = "sunset";
      }
      // Night: everything else
      else {
        moscowTimeOfDay = "night";
      }

      setMoscowTimeOfDay(moscowTimeOfDay);
    };

    updateTime();
    const interval = setInterval(updateTime, 1000);
    return () => clearInterval(interval);
  }, []);

  useEffect(() => {
    // Animate all paths in Dhaka SVG
    if (dhakaSvgRef.current) {
      const dhakaElements =
        dhakaSvgRef.current.querySelectorAll("path, circle");
      gsap.set(dhakaElements, {
        drawSVG: "0%",
        fill: "rgba(7, 29, 33, 0)",
      });

      gsap.to(dhakaElements, {
        drawSVG: "100%",
        fill: "rgba(7, 29, 33, 1)",
        duration: 3,
        stagger: 0.2,
        repeat: -1,
        yoyo: true,
        ease: "power2.inOut",
        repeatDelay: 1,
      });
    }

    // Animate all paths and circles in Moscow SVG with slight delay
    if (moscowSvgRef.current) {
      const moscowElements =
        moscowSvgRef.current.querySelectorAll("path, circle");
      gsap.set(moscowElements, {
        drawSVG: "0%",
        fill: "rgba(7, 29, 33, 0)",
      });

      gsap.to(moscowElements, {
        drawSVG: "100%",
        fill: "rgba(7, 29, 33, 1)",
        duration: 3,
        stagger: 0.2,
        repeat: -1,
        yoyo: true,
        ease: "power2.inOut",
        delay: 1.5,
        repeatDelay: 1,
      });
    }
  }, [moscowTimeOfDay]); // Add dependency to re-run when Moscow time changes

  return (
    <StyledComponent>
      <div className={"weather"}>
        <div className={"weather__dhaka"}>
          <div className={"weather__dhaka__top"}>
            <div>
              <h6 className={"split-up-delay"}>
                Dhaka,
                <br />
                Bangladesh
              </h6>
              <p className={"split-up-delay"}>Baridhata, DOHS Road No. 12</p>
            </div>
            <div className={"weather__dhaka__icon"}>
              {dhakaTimeOfDay === "day" && (
                <div className="day-svg">
                  <svg
                    ref={dhakaSvgRef}
                    width="46"
                    height="45"
                    viewBox="0 0 46 45"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M12.6875 22.5C12.6875 16.8046 17.3046 12.1875 23 12.1875C28.6954 12.1875 33.3125 16.8046 33.3125 22.5C33.3125 28.1954 28.6954 32.8125 23 32.8125C17.3046 32.8125 12.6875 28.1954 12.6875 22.5Z"
                      fill="none"
                      stroke="#071D21"
                      strokeWidth="2"
                    />
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M21.5948 42.4914C20.9092 41.7153 20.9825 40.5304 21.7586 39.8448C21.8056 39.8033 21.8824 39.7206 21.95 39.6132C22.0168 39.5068 22.0477 39.4194 22.058 39.3633C22.066 39.3202 22.0629 39.2973 22.0525 39.2683C22.0407 39.2359 21.9862 39.1062 21.7586 38.9052C20.9825 38.2196 20.9092 37.0346 21.5948 36.2586C22.2804 35.4825 23.4653 35.4092 24.2414 36.0948C25.5521 37.2527 25.9964 38.6838 25.7459 40.0429C25.5253 41.2404 24.8108 42.1521 24.2414 42.6552C23.4653 43.3408 22.2804 43.2674 21.5948 42.4914ZM36.0041 38.4339C34.9705 38.3699 34.1845 37.4802 34.2485 36.4467C34.2532 36.3703 34.2481 36.2403 34.2158 36.0987C34.1838 35.9584 34.1367 35.8563 34.093 35.7927C34.0567 35.7401 34.0227 35.7115 33.9737 35.6885C33.9214 35.664 33.7646 35.6057 33.4283 35.6265C32.3947 35.6904 31.505 34.9044 31.4411 33.8709C31.3771 32.8373 32.1631 31.9476 33.1967 31.8836C35.0086 31.7715 36.3745 32.4943 37.1813 33.6655C37.8948 34.7014 38.04 35.8923 37.9913 36.6783C37.9273 37.7118 37.0376 38.4979 36.0041 38.4339ZM11.8326 37.6192C10.7973 38.3323 9.60719 38.4774 8.82166 38.4288C7.78811 38.3649 7.00209 37.4751 7.06606 36.4416C7.13002 35.408 8.01973 34.622 9.05329 34.686C9.12944 34.6907 9.25905 34.6856 9.40035 34.6534C9.54037 34.6215 9.64213 34.5745 9.70534 34.531C9.75765 34.4949 9.786 34.4612 9.8088 34.4126C9.83315 34.3607 9.89138 34.2043 9.87061 33.8687C9.80665 32.8351 10.5927 31.9454 11.6262 31.8814C12.6598 31.8175 13.5495 32.6035 13.6135 33.637C13.7255 35.4478 13.0031 36.8129 11.8326 37.6192ZM5.45707 25.2459C4.25955 25.0253 3.34785 24.3108 2.84479 23.7414C2.15919 22.9653 2.23251 21.7804 3.00858 21.0948C3.78464 20.4092 4.96956 20.4825 5.65516 21.2586C5.69667 21.3056 5.77931 21.3824 5.88679 21.45C5.99315 21.5168 6.08052 21.5477 6.13664 21.558C6.17973 21.566 6.20268 21.5629 6.23166 21.5525C6.26409 21.5407 6.39374 21.4862 6.59479 21.2586C7.2804 20.4825 8.46531 20.4092 9.24138 21.0948C10.0174 21.7804 10.0908 22.9653 9.40516 23.7414C8.24725 25.0521 6.81619 25.4964 5.45707 25.2459ZM42.9914 24.8427C42.2153 25.5283 41.0304 25.4549 40.3448 24.6789C40.1437 24.4513 40.0141 24.3967 39.9817 24.385C39.9527 24.3745 39.9297 24.3715 39.8866 24.3794C39.8305 24.3898 39.7432 24.4206 39.6368 24.4875C39.5293 24.5551 39.4467 24.6319 39.4052 24.6789C38.7196 25.4549 37.5346 25.5283 36.7586 24.8427C35.9825 24.1571 35.9092 22.9721 36.5948 22.1961C37.0978 21.6267 38.0096 20.9122 39.2071 20.6915C40.5662 20.4411 41.9973 20.8854 43.1552 22.1961C43.8408 22.9721 43.7674 24.1571 42.9914 24.8427ZM35.3112 14.0589C34.2777 14.1229 33.388 13.3369 33.324 12.3033C33.2754 11.5178 33.4205 10.3276 34.1336 9.2924C34.9399 8.12182 36.305 7.39945 38.1158 7.51151C39.1494 7.57547 39.9354 8.46518 39.8714 9.49874C39.8074 10.5323 38.9177 11.3183 37.8842 11.2543C37.5485 11.2336 37.3922 11.2918 37.3402 11.3162C37.2916 11.339 37.2579 11.3673 37.2218 11.4196C37.1783 11.4828 37.1313 11.5846 37.0994 11.7246C37.0672 11.8659 37.0621 11.9955 37.0668 12.0717C37.1308 13.1052 36.3448 13.9949 35.3112 14.0589ZM11.2654 10.278C11.4155 10.3103 11.5547 10.3159 11.6405 10.3109C12.6742 10.2504 13.5613 11.0394 13.6218 12.0732C13.6823 13.1069 12.8933 13.994 11.8595 14.0545C11.0941 14.0993 9.92272 13.967 8.89527 13.2979C7.72346 12.5347 6.95685 11.2049 7.07443 9.40856C7.14207 8.37524 8.03456 7.59239 9.06789 7.66003C10.1012 7.72766 10.8841 8.62016 10.8164 9.65349C10.7977 9.93956 10.8505 10.0537 10.8608 10.0744C10.871 10.0949 10.8868 10.1198 10.9417 10.1555C11.0073 10.1982 11.1155 10.2457 11.2654 10.278ZM24.4052 8.74138C23.7196 9.51745 22.5346 9.59077 21.7586 8.90516C21.1892 8.40211 20.4747 7.4904 20.254 6.29289C20.0036 4.93377 20.4479 3.5027 21.7586 2.3448C22.5346 1.65919 23.7196 1.73252 24.4052 2.50858C25.0908 3.28464 25.0174 4.46956 24.2414 5.15516C24.0138 5.35622 23.9592 5.48587 23.9475 5.51829C23.937 5.54729 23.934 5.57023 23.9419 5.61332C23.9523 5.66944 23.9831 5.75681 24.05 5.86317C24.1176 5.97065 24.1944 6.05329 24.2414 6.0948C25.0174 6.7804 25.0908 7.96532 24.4052 8.74138Z"
                      fill="none"
                      stroke="#071D21"
                      strokeWidth="1"
                    />
                  </svg>
                </div>
              )}
              {dhakaTimeOfDay === "night" && (
                <div className="night-svg">
                  <svg
                    ref={dhakaSvgRef}
                    xmlns="http://www.w3.org/2000/svg"
                    width="37"
                    height="29"
                    viewBox="0 0 37 29"
                    fill="none"
                  >
                    <path
                      d="M0.134766 18.7708C0.134766 14.0165 3.51152 10.0522 7.99822 9.14359C8.91101 4.17238 13.2648 0.40625 18.4993 0.40625C24.2834 0.40625 28.9932 5.00549 29.1712 10.7463C33.5201 11.3658 36.8639 15.1049 36.8639 19.625C36.8639 24.5783 32.8485 28.5938 27.8952 28.5938L9.95768 28.5938C4.53264 28.5938 0.134766 24.1959 0.134766 18.7708Z"
                      fill="#071D21"
                    />
                  </svg>
                </div>
              )}
              {dhakaTimeOfDay === "sunrise" && (
                <div className="sunrise-svg">
                  <svg
                    ref={dhakaSvgRef}
                    xmlns="http://www.w3.org/2000/svg"
                    width="35"
                    height="35"
                    viewBox="0 0 35 35"
                    fill="none"
                  >
                    <path
                      d="M19.2177 13.2292C19.2177 14.1727 18.4528 14.9375 17.5094 14.9375C16.5659 14.9375 15.801 14.1727 15.801 13.2292L15.801 8.1041L14.7858 8.10413H14.7858C14.4858 8.10435 14.1174 8.10461 13.816 8.06691L13.8102 8.0662C13.5942 8.03926 12.6102 7.91654 12.1415 6.95031C11.6717 5.98199 12.1875 5.12758 12.2991 4.94273L12.8785 4.1424C13.3818 3.50036 14.0749 2.62149 14.7248 1.95352C15.0491 1.62021 15.4203 1.27643 15.8147 1.00506C16.1654 0.763844 16.7636 0.4166 17.4994 0.4166C18.2351 0.4166 18.8333 0.763844 19.184 1.00506C19.5784 1.27643 19.9496 1.62021 20.2739 1.95352C20.9238 2.62149 21.6169 3.50035 22.1202 4.14239L22.6996 4.94273C22.8112 5.12758 23.327 5.98199 22.8572 6.95031C22.3885 7.91654 21.4045 8.03926 21.1884 8.0662L21.1827 8.06691C20.8813 8.10461 20.5129 8.10435 20.2129 8.10413L19.2177 8.1041L19.2177 13.2292Z"
                      fill="#071D21"
                    />
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M29.5779 13.9628C30.2451 14.6299 30.2451 15.7116 29.5779 16.3787L27.766 18.1907C27.0988 18.8578 26.0172 18.8578 25.35 18.1907C24.6829 17.5235 24.6829 16.4419 25.35 15.7747L27.162 13.9628C27.8291 13.2956 28.9108 13.2956 29.5779 13.9628ZM5.42058 13.9638C6.08772 13.2967 7.16938 13.2967 7.83652 13.9638L9.64849 15.7758C10.3156 16.4429 10.3156 17.5246 9.64849 18.1917C8.98134 18.8589 7.89968 18.8589 7.23254 18.1917L5.42058 16.3798C4.75343 15.7126 4.75343 14.631 5.42058 13.9638ZM0.416016 26.0426C0.416016 25.0991 1.18086 24.3343 2.12435 24.3343H4.68685C5.63034 24.3343 6.39518 25.0991 6.39518 26.0426C6.39518 26.9861 5.63034 27.7509 4.68685 27.7509H2.12435C1.18086 27.7509 0.416016 26.9861 0.416016 26.0426ZM28.6035 26.0426C28.6035 25.0991 29.3684 24.3343 30.3118 24.3343H32.8743C33.8178 24.3343 34.5827 25.0991 34.5827 26.0426C34.5827 26.9861 33.8178 27.7509 32.8743 27.7509H30.3118C29.3684 27.7509 28.6035 26.9861 28.6035 26.0426Z"
                      fill="#071D21"
                    />
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M34.584 32.8748C34.584 33.8183 33.8191 34.5832 32.8757 34.5832L2.12565 34.5832C1.18216 34.5832 0.417317 33.8183 0.417317 32.8748C0.417317 31.9314 1.18216 31.1665 2.12565 31.1665L32.8757 31.1665C33.8191 31.1665 34.584 31.9314 34.584 32.8748Z"
                      fill="#071D21"
                    />
                    <path
                      d="M8.95898 26.0417C8.95898 21.3242 12.7832 17.5 17.5007 17.5C22.2181 17.5 26.0423 21.3242 26.0423 26.0417C26.0423 26.9852 25.2775 27.75 24.334 27.75H10.6673C9.72383 27.75 8.95898 26.9852 8.95898 26.0417Z"
                      fill="#071D21"
                    />
                  </svg>
                </div>
              )}
              {dhakaTimeOfDay === "sunset" && (
                <div className="sunset-svg">
                  <svg
                    ref={dhakaSvgRef}
                    xmlns="http://www.w3.org/2000/svg"
                    width="40"
                    height="36"
                    viewBox="0 0 40 36"
                    fill="none"
                  >
                    <path
                      d="M1.40625 25.2188C1.40625 20.3485 4.86536 16.2875 9.4615 15.3567C10.3965 10.2642 14.8565 6.40625 20.2188 6.40625C26.1439 6.40625 30.9686 11.1177 31.1509 16.9985C35.6059 17.6331 39.0312 21.4634 39.0312 26.0937C39.0312 31.1679 34.9179 35.2812 29.8438 35.2812H11.4688C5.91138 35.2812 1.40625 30.7761 1.40625 25.2188Z"
                      fill="#071D21"
                    />
                    <path
                      d="M12.0494 2.00966C11.7956 1.07708 10.8338 0.526809 9.90126 0.780599C8.96867 1.03439 8.4184 1.99613 8.67219 2.92872L8.6962 3.01692C7.14883 3.70645 5.82377 4.73111 4.78992 5.97785L4.39825 5.75468C3.55851 5.27619 2.48987 5.56905 2.01139 6.4088C1.5329 7.24854 1.82576 8.31718 2.66551 8.79566L3.02523 9.00063C2.45707 10.4929 2.22237 12.122 2.38771 13.7787L2.27276 13.8091C1.33824 14.0556 0.780527 15.0131 1.02708 15.9476C1.27363 16.8821 2.23108 17.4398 3.1656 17.1933L3.30303 17.157C3.51113 17.6113 3.74925 18.0463 4.01435 18.46C4.8052 17.5884 5.74683 16.8561 6.79812 16.3043C6.4943 15.7806 6.25308 15.21 6.08671 14.5987C5.56949 12.6981 5.8812 10.7621 6.81151 9.17155C7.74327 7.57848 9.29557 6.33189 11.2571 5.81439C13.21 5.29916 15.1879 5.60971 16.809 6.52508C16.8219 6.53267 16.8363 6.54083 16.8493 6.54805C16.9927 6.63018 17.1332 6.71707 17.2706 6.80855C18.2085 6.54668 19.1973 6.40668 20.2188 6.40668C20.7763 6.40668 21.3241 6.4484 21.8591 6.52887C21.7935 6.35299 21.6982 6.18477 21.5725 6.03149C21.1085 5.46558 20.5895 4.95151 20.0258 4.49507L20.2258 4.15303C20.7139 3.3188 20.4332 2.24689 19.599 1.75887C18.7647 1.27084 17.6928 1.5515 17.2048 2.38573L16.9867 2.75856C15.4538 2.18461 13.7789 1.94967 12.0793 2.11968L12.0494 2.00966Z"
                      fill="#071D21"
                    />
                  </svg>
                </div>
              )}

              <p>{dhakaTime}</p>
            </div>
          </div>
          <Button
            text={"Open in Maps"}
            background={"#071D21"}
            width={"100%"}
            color={"#fff"}
            type="submit"
          />
        </div>
        <div className={"weather__moscow"}>
          <div className={"weather__dhaka__top"}>
            <div>
              <h6 className={"split-up-delay"}>
                Moscow, <br /> Russia
              </h6>
              <p className={"split-up-delay"}>
                ul. Tverskaya 10, k. 2, kv. 45{" "}
              </p>
            </div>
            <div className={"weather__dhaka__icon"}>
              {moscowTimeOfDay === "day" && (
                <div className="day-svg">
                  <svg
                    ref={moscowSvgRef}
                    xmlns="http://www.w3.org/2000/svg"
                    width="42"
                    height="39"
                    viewBox="0 0 42 39"
                    fill="none"
                  >
                    <path
                      d="M1.07813 27.2344C1.07813 22.0162 4.78432 17.6652 9.70875 16.6679C10.7106 11.2117 15.4891 7.07812 21.2344 7.07812C27.5827 7.07812 32.752 12.1261 32.9474 18.427C37.7206 19.1069 41.3906 23.2108 41.3906 28.1719C41.3906 33.6084 36.9834 38.0156 31.5469 38.0156H11.8594C5.90506 38.0156 1.07813 33.1887 1.07813 27.2344Z"
                      fill="none"
                      stroke="#071D21"
                      strokeWidth="2"
                    />
                    <path
                      d="M12.4815 2.36749C12.2096 1.3683 11.1791 0.778724 10.1799 1.05064C9.18072 1.32256 8.59115 2.353 8.86307 3.3522L8.88878 3.4467C7.23089 4.18549 5.81118 5.28333 4.70348 6.61912L4.28384 6.38001C3.38412 5.86735 2.23915 6.18113 1.72649 7.08086C1.21382 7.98058 1.5276 9.12555 2.42733 9.63821L2.81275 9.85782C2.20401 11.4567 1.95254 13.2021 2.12969 14.9772L2.00653 15.0097C1.00525 15.2739 0.407707 16.2997 0.671869 17.301C0.936031 18.3022 1.96187 18.8998 2.96314 18.6356L3.11039 18.5968C3.33335 19.0836 3.58848 19.5496 3.87252 19.9928C4.71986 19.059 5.72875 18.2744 6.85512 17.6831C6.52961 17.1221 6.27115 16.5107 6.0929 15.8557C5.53874 13.8194 5.87272 11.7451 6.86947 10.0409C7.86779 8.33408 9.53097 6.99845 11.6326 6.44399C13.725 5.89195 15.8441 6.22468 17.5811 7.20545C17.5949 7.21357 17.6103 7.22232 17.6243 7.23005C17.7779 7.31805 17.9285 7.41114 18.0757 7.50916C19.0805 7.22858 20.1399 7.07858 21.2344 7.07858C21.8317 7.07858 22.4186 7.12328 22.9919 7.20951C22.9216 7.02107 22.8195 6.84082 22.6848 6.67659C22.1877 6.07026 21.6316 5.51947 21.0276 5.03043L21.242 4.66397C21.7649 3.77014 21.4642 2.62167 20.5703 2.09879C19.6765 1.5759 18.528 1.8766 18.0052 2.77043L17.7715 3.16988C16.1291 2.55494 14.3345 2.30322 12.5136 2.48537L12.4815 2.36749Z"
                      fill="none"
                      stroke="#071D21"
                      strokeWidth="1"
                    />
                  </svg>
                </div>
              )}
              {moscowTimeOfDay === "night" && (
                <div className="night-svg">
                  <svg
                    ref={moscowSvgRef}
                    xmlns="http://www.w3.org/2000/svg"
                    width="37"
                    height="29"
                    viewBox="0 0 37 29"
                    fill="none"
                  >
                    <path
                      d="M0.134766 18.7708C0.134766 14.0165 3.51152 10.0522 7.99822 9.14359C8.91101 4.17238 13.2648 0.40625 18.4993 0.40625C24.2834 0.40625 28.9932 5.00549 29.1712 10.7463C33.5201 11.3658 36.8639 15.1049 36.8639 19.625C36.8639 24.5783 32.8485 28.5938 27.8952 28.5938L9.95768 28.5938C4.53264 28.5938 0.134766 24.1959 0.134766 18.7708Z"
                      fill="#071D21"
                    />
                  </svg>
                </div>
              )}
              {moscowTimeOfDay === "sunrise" && (
                <div className="sunrise-svg">
                  <svg
                    ref={moscowSvgRef}
                    xmlns="http://www.w3.org/2000/svg"
                    width="42"
                    height="39"
                    viewBox="0 0 42 39"
                    fill="none"
                  >
                    <path
                      d="M1.07813 27.2344C1.07813 22.0162 4.78432 17.6652 9.70875 16.6679C10.7106 11.2117 15.4891 7.07812 21.2344 7.07812C27.5827 7.07812 32.752 12.1261 32.9474 18.427C37.7206 19.1069 41.3906 23.2108 41.3906 28.1719C41.3906 33.6084 36.9834 38.0156 31.5469 38.0156H11.8594C5.90506 38.0156 1.07813 33.1887 1.07813 27.2344Z"
                      fill="none"
                      stroke="#071D21"
                      strokeWidth="2"
                    />
                    <path
                      d="M12.4815 2.36749C12.2096 1.3683 11.1791 0.778724 10.1799 1.05064C9.18072 1.32256 8.59115 2.353 8.86307 3.3522L8.88878 3.4467C7.23089 4.18549 5.81118 5.28333 4.70348 6.61912L4.28384 6.38001C3.38412 5.86735 2.23915 6.18113 1.72649 7.08086C1.21382 7.98058 1.5276 9.12555 2.42733 9.63821L2.81275 9.85782C2.20401 11.4567 1.95254 13.2021 2.12969 14.9772L2.00653 15.0097C1.00525 15.2739 0.407707 16.2997 0.671869 17.301C0.936031 18.3022 1.96187 18.8998 2.96314 18.6356L3.11039 18.5968C3.33335 19.0836 3.58848 19.5496 3.87252 19.9928C4.71986 19.059 5.72875 18.2744 6.85512 17.6831C6.52961 17.1221 6.27115 16.5107 6.0929 15.8557C5.53874 13.8194 5.87272 11.7451 6.86947 10.0409C7.86779 8.33408 9.53097 6.99845 11.6326 6.44399C13.725 5.89195 15.8441 6.22468 17.5811 7.20545C17.5949 7.21357 17.6103 7.22232 17.6243 7.23005C17.7779 7.31805 17.9285 7.41114 18.0757 7.50916C19.0805 7.22858 20.1399 7.07858 21.2344 7.07858C21.8317 7.07858 22.4186 7.12328 22.9919 7.20951C22.9216 7.02107 22.8195 6.84082 22.6848 6.67659C22.1877 6.07026 21.6316 5.51947 21.0276 5.03043L21.242 4.66397C21.7649 3.77014 21.4642 2.62167 20.5703 2.09879C19.6765 1.5759 18.528 1.8766 18.0052 2.77043L17.7715 3.16988C16.1291 2.55494 14.3345 2.30322 12.5136 2.48537L12.4815 2.36749Z"
                      fill="#071D21"
                      stroke="#071D21"
                      strokeWidth="1"
                    />
                  </svg>
                </div>
              )}
              {moscowTimeOfDay === "sunset" && (
                <div className="sunset-svg">
                  <svg
                    ref={moscowSvgRef}
                    xmlns="http://www.w3.org/2000/svg"
                    width="42"
                    height="39"
                    viewBox="0 0 42 39"
                    fill="none"
                  >
                    <path
                      d="M1.07813 27.2344C1.07813 22.0162 4.78432 17.6652 9.70875 16.6679C10.7106 11.2117 15.4891 7.07812 21.2344 7.07812C27.5827 7.07812 32.752 12.1261 32.9474 18.427C37.7206 19.1069 41.3906 23.2108 41.3906 28.1719C41.3906 33.6084 36.9834 38.0156 31.5469 38.0156H11.8594C5.90506 38.0156 1.07813 33.1887 1.07813 27.2344Z"
                      fill="#071D21"
                      stroke="#071D21"
                      strokeWidth="2"
                    />
                    <path
                      d="M12.4815 2.36749C12.2096 1.3683 11.1791 0.778724 10.1799 1.05064C9.18072 1.32256 8.59115 2.353 8.86307 3.3522L8.88878 3.4467C7.23089 4.18549 5.81118 5.28333 4.70348 6.61912L4.28384 6.38001C3.38412 5.86735 2.23915 6.18113 1.72649 7.08086C1.21382 7.98058 1.5276 9.12555 2.42733 9.63821L2.81275 9.85782C2.20401 11.4567 1.95254 13.2021 2.12969 14.9772L2.00653 15.0097C1.00525 15.2739 0.407707 16.2997 0.671869 17.301C0.936031 18.3022 1.96187 18.8998 2.96314 18.6356L3.11039 18.5968C3.33335 19.0836 3.58848 19.5496 3.87252 19.9928C4.71986 19.059 5.72875 18.2744 6.85512 17.6831C6.52961 17.1221 6.27115 16.5107 6.0929 15.8557C5.53874 13.8194 5.87272 11.7451 6.86947 10.0409C7.86779 8.33408 9.53097 6.99845 11.6326 6.44399C13.725 5.89195 15.8441 6.22468 17.5811 7.20545C17.5949 7.21357 17.6103 7.22232 17.6243 7.23005C17.7779 7.31805 17.9285 7.41114 18.0757 7.50916C19.0805 7.22858 20.1399 7.07858 21.2344 7.07858C21.8317 7.07858 22.4186 7.12328 22.9919 7.20951C22.9216 7.02107 22.8195 6.84082 22.6848 6.67659C22.1877 6.07026 21.6316 5.51947 21.0276 5.03043L21.242 4.66397C21.7649 3.77014 21.4642 2.62167 20.5703 2.09879C19.6765 1.5759 18.528 1.8766 18.0052 2.77043L17.7715 3.16988C16.1291 2.55494 14.3345 2.30322 12.5136 2.48537L12.4815 2.36749Z"
                      fill="#071D21"
                      stroke="#071D21"
                      strokeWidth="1"
                    />
                  </svg>
                </div>
              )}
              <p>{moscowTime}</p>
            </div>
          </div>
          <Button
            text={"Open in Maps"}
            background={"#071D21"}
            width={"100%"}
            color={"#fff"}
            type="submit"
          />
        </div>
      </div>
    </StyledComponent>
  );
};

const StyledComponent = styled.section`
  .weather {
    border-radius: 30px;
    background: #fff;
    padding: 25px;
    display: flex;
    flex-direction: column;
    gap: 55px;

    &__dhaka,
    &__moscow {
      &__top {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        margin-bottom: 25px;
      }

      h6 {
        font-weight: 600;
        margin-bottom: 15px;
      }

      &__icon {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;

        p {
          color: #071d21;
          font-family: "Bricolage Grotesque";
          font-size: 17px;
          font-style: normal;
          font-weight: 600;
          line-height: 28px;
          margin-top: 10px;
        }
      }
    }
    &__dhaka {
      position: relative;
      &:after {
        content: "";
        position: absolute;
        bottom: -25px;
        left: -30px;
        height: 1px;
        width: 150%;
        background: rgba(7, 29, 33, 0.07);
      }
    }
  }
  @media (max-width: 767px) {
    margin-top: 3px;
  }
`;

export default MyComponent;
